{% load i18n %}
{% if perms.incidents.handle_incidents and not oidc_enabled %}
<div class="row justify-content-md-center">
  <div class="col-sm-8 col-sm-offset-2">
    <div class="card mb-3">
      <h5 class="card-header bg-primary-subtle text-primary-emphasis">FIR API - {% trans "API Access" %}</h5>
      <div class="card-body">
	  <p>
	  {% blocktrans %}
	    You need to be authenticated in order to use the API. It will accept session or token based authentication.
	    Tokens can be managed in the administration interface and should be specified as a <strong>request header</strong>.</p>
	    Example:
	  {% endblocktrans %}
	  <br/>
          <pre>X-Api: Token {{ user.auth_token.key }}</pre>
      </div>
      <table class="table">
        <tr><th>{% trans "Token" %}</th><td><code>{{ user.auth_token.key }}</code></td></tr>
        <tr><th>{% trans "Created" %}</th><td><code>{{ user.auth_token.created }}</code></td></tr>
      </table>
    </div>
  </div>
</div>
{% endif %}
